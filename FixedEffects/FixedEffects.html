<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Fixed Effects</title>
    <meta charset="utf-8" />
    <meta name="author" content="Christoph Hanck" />
    <script src="FixedEffects_files/header-attrs/header-attrs.js"></script>
    <link href="FixedEffects_files/remark-css/default.css" rel="stylesheet" />
    <script src="FixedEffects_files/xaringanExtra-progressBar/progress-bar.js"></script>
    <script src="FixedEffects_files/clipboard/clipboard.min.js"></script>
    <link href="FixedEffects_files/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="FixedEffects_files/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"<i class=\"fa fa-clipboard\"><\/i>","success":"<i class=\"fa fa-check\" style=\"color: #00ff00\"><\/i>","error":"<i class=\"fa fa-times-circle\" style=\"color: #F94144\"><\/i>"})</script>
    <link href="FixedEffects_files/font-awesome/css/all.css" rel="stylesheet" />
    <link href="FixedEffects_files/font-awesome/css/v4-shims.css" rel="stylesheet" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } },
      });
    </script>
    <style>
    .mjx-mrow a {
      color: black;
      pointer-events: none;
      cursor: default;
    }
    </style>
    <link rel="stylesheet" href="../assets/ude_fonts.css" type="text/css" />
    <link rel="stylesheet" href="../assets/ude.css" type="text/css" />
    <link rel="stylesheet" href="../assets/custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Fixed Effects
]
.author[
### Christoph Hanck
]
.date[
### Summer 2023
]

---






<style>.xe__progress-bar__container {
  bottom:0;
  opacity: 1;
  position:absolute;
  right:0;
  left: 0;
}
.xe__progress-bar {
  height: 0.25em;
  background-color: #004c93;
  width: calc(var(--slide-current) / var(--slide-total) * 100%);
}
.remark-visible .xe__progress-bar {
  animation: xe__progress-bar__wipe 200ms forwards;
  animation-timing-function: cubic-bezier(.86,0,.07,1);
}
@keyframes xe__progress-bar__wipe {
  0% { width: calc(var(--slide-previous) / var(--slide-total) * 100%); }
  100% { width: calc(var(--slide-current) / var(--slide-total) * 100%); }
}</style>




#Fixed Effects
&lt;br&gt;
**Motivation**
&lt;br&gt;&lt;br&gt;
Fixed effects arises due to two main problems:
&lt;br&gt;&lt;br&gt;
- Difficulty in figuring out the correct causal diagram that tells what to control for.
- Difficulty in measuring all the variables that needs to be controlled for.

---
#Fixed Effects
.vcenter[
.blockquote[
###Definition: Matching
Fixed effects is a method of controlling for all variables, whether they are observed or not, as long as they stay constant within some larger category.
]]

---
#Fixed Effects
.vcenter[
.blockquote[
###Example: Effect of getting electricity on the productivity of a rural town.
- Backdoor: Geography (towns up in the mountainous hillside will be more difficult to electrify.) 
- The same town when observed in different times will still be on the mountain.
- By observing the town in different years, any variation explained by town can be removed. 

]]

---
#Fixed Effects
.vcenter[
.blockquote[
###Example: Effect of getting electricity on the productivity of a rural town.
- Since there is no variation in geography that is not explained by town, after controlling for town geography will be controlled too
- There will be no variation in geography left!

]]

---
#Fixed Effects
&lt;br&gt;
**Notes**
&lt;br&gt;&lt;br&gt;&lt;br&gt;
- Fixed effects can be thought of as taking a whole long list of variables as back doors that are constant within some category and collapsing them to just be that category. Then, controlling for that category.

---
#Fixed Effects

.vcenter[
.blockquote[
###Example: Effect of a visit from the German chancellor on a country’s level of trade with Germany
    DIAGRAM 16.1
]]

---
# Fixed Effects

.vcenter[
.blockquote[
###Example: Effect of a visit from the German chancellor on a country’s level of trade with Germany
- There are many causes of trade with Germany.
- Many of which would be difficult to keep track of or even measure. 
- Several of these variables - the country’s geography, the culture of the population, and the history that country has with Germany - are constant within country.
- The causal diagram can be redrawn.
]]

---
#Fixed Effects
.vcenter[
.blockquote[
###Example: Effect of a visit from the German chancellor on a country’s level of trade with Germany
         DIAGRAM
- In the following figure, the effect can be identified without needing to control for each of the variables.
- Controlling only for country would be enough.
]]

---
#Fixed Effects
&lt;br&gt;
**Notes**
&lt;br&gt;&lt;br&gt;&lt;br&gt;
- In fixed effects, **indivisuals** are controlled for. The **indivisual** can represent “person,” “company,” “school,” or “country,” and so on.
- It gets rid of any variation between individuals.
- The idea of fixed effects is that by sweeping away all that variation between individuals, any variables that are fixed over time can be controlled for.
- Since fixed effects removes between variation, it is not a suitable approach when between variation is of interest.

---
#Fixed Effects

.vcenter[

.blockquote[
###Example: Effect of exercise on the number of times a year a person gets a cold.
- There are two people in the study: A and B.
- There are some variables like “genetics” that are fixed over time can can be adjusted for with fixed effects.

|Indivisual|Year|Exercise|
|:------:|:------:|:------:|
|Person A|2019|5|
|Person A|2020|7|
|Person B|2019|4|
|Person B|2020|3|

&lt;br&gt;
]]
---
#Fixed Effects

**Example**
.vcenter[
.blockquote[
###Example: Effect of exercise on the number of times a year a person gets a cold.
- To get the within and between variation, the within-individual means is required.
- The difference between individuals in the means is the between variation. 

|Indivisual|Year|Exercise|Mean Exercise|Within Exercise|
|:------:|:------:|:------:|:------:|:------:|
|Person A|2019|5|6.0|-1.0|
|Person A|2020|7|6.0|1.0|
|Person B|2019|4|3.5|0.5|
|Person B|2020|3|3.5|-0.5|
&lt;br&gt;
]]

---
#Fixed Effects
.vcenter[
.blockquote[
###Example: Effect of exercise on the number of times a year a person gets a cold.
- If those individual means are subtracted out, the way in which it varies from time period to time period  is left relative to the averages.
- So person A's within variation in exercise compares the fact that in 2019 he exercised half an hour per week more than average, and in 2020 he exercised half and hour per week less than average.
]]

---
#Fixed Effects
&lt;br&gt;
**What does fixed effects actually do to data? **
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
- Within variation is isolated 
- The mean differences between groups (individuals) is found and subtracted. 

---
#Fixed Effects
.vcenter[
.blockquote[
###Example: Effects of healthy-eating reminders on actual healthy eating.
- Four subjects have each downloaded an app that, at random times, reminds them to eat healthy. 
- They have each chosen how frequently they want reminders, but do not control exactly on which days they come.
- It is recorded how often they get reminders, and also scored them on how healthy they actually eat.
- There are two variations: 
 - Variation over time in how intensively each individual gets reminders.
 - Variation in their healthy eating.

]]

---




#Fixed Effects
&lt;br&gt;
.blockquote[
###Example: Effects of healthy-eating reminders on actual healthy eating.
- There might be some individual-level back doors that led them to choose their frequency and also their general healthy-eating level. 
&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="FixedEffects_files/figure-html/unnamed-chunk-3-1.png" alt="1: Healthy Eating Reminders and Healthy Eating for Four Individuals" width="55%" style="display:block; margin-right:auto; margin-left:auto;" /&gt;
&lt;p class="caption"&gt;1: Healthy Eating Reminders and Healthy Eating for Four Individuals&lt;/p&gt;
&lt;/div&gt;

]

---
#Fixed Effects
.vcenter[
.blockquote[
###Example: Effects of healthy-eating reminders on actual healthy eating.
-  Now fixed effects estimation is started by calculating the mean reminders and mean healthy eating scores for each of the individuals. 
- Now the individual means are plotted with the same graph.
&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="FixedEffects_files/figure-html/unnamed-chunk-4-1.png" alt="2: Healthy Eating Reminders and Healthy Eating for Four Individuals with Indivisual Means" width="55%" style="display:block; margin-right:auto; margin-left:auto;" /&gt;
&lt;p class="caption"&gt;2: Healthy Eating Reminders and Healthy Eating for Four Individuals with Indivisual Means&lt;/p&gt;
&lt;/div&gt;


]]
---
#Fixed Effects
.vcenter[
.blockquote[
###Example: Effects of healthy-eating reminders on actual healthy eating.
- The next task is to remove any variation between individuals. 
- All four of the +‘s  are taken and are slided  on top of each other.
- The data gets centered at 0 on both the X and Y axis when plotted with the four individuals’ within-variation alone
]]
---
#Fixed Effects
.vcenter[
.blockquote[
###Example: Effects of healthy-eating reminders on actual healthy eating.
- With the different individuals moved on top of each other, a more clear picture emerging can be seen , with a positive relationship between the intensity of reminders and the scores. 
&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="FixedEffects_files/figure-html/unnamed-chunk-5-1.png" alt="3: Healthy Eating Reminders and Healthy Eating for Four Individuals with Indivisual Means" width="55%" style="display:block; margin-right:auto; margin-left:auto;" /&gt;
&lt;p class="caption"&gt;3: Healthy Eating Reminders and Healthy Eating for Four Individuals with Indivisual Means&lt;/p&gt;
&lt;/div&gt;

]
]

---
#Fixed Effects
&lt;br&gt;
**How Is It Performed?**
&lt;br&gt;


- It can be performed with **regression estimators.**
- Fixed effects regressions generally start with a regression equation 

`$$Y_{it}=\beta_i+\beta_1X_{it} +\epsilon_{it}$$`
 - `\(X\)` has subscript `\(it\)` indicating that the data varies both between individuals `\(i\)` over time `\(t\)`.
 
 - the intercept term `\(\beta\)` has subscript `\(i\)` istead of `\(0\)` . 


---
#Fixed Effects
&lt;br&gt;&lt;br&gt;
**How does allowing the intercept to vary gives a fixed effects estimate where only within variation is used?**

&lt;br&gt;&lt;br&gt;
- By allowing the intercept to vary is equivalent to adding a control for each person. 

- By breaking up the intercept, for example instead of using two  parallel lines having the same slope, they can be moved up and down until they hit each regressors.
---
#Fixed Effects
&lt;br&gt;&lt;br&gt;
**How to estimate a regression with individual intercepts?**

&lt;br&gt;
There are two standard methods:
- The first method is to extract the within variation.
  
  - Calculate the mean of the dependent variable for each individual `\(\bar{Y_i}\)` and subtract that mean out `\(Y_{it}-\bar{Y_i}\)`. 
  - Then, do the same for each of the independent variables `\(X_{it}-\bar{X_i}\)`.
 - Then, run the regression, `$$Y_{it}-\bar{Y_i}=\beta_0-\beta_1(X_{it}-\bar{X_i})+\epsilon_{it}$$`
 - This method is known as **absorbing the fixed effect.**


---
#Fixed Effects
&lt;br&gt;&lt;br&gt;
**How to estimate a regression with individual intercepts?**

&lt;br&gt;

- The second simple method is to add a binary control variable for every individual.
 - Or rather, every indivisual except one - if the model also has an intercept/constant in it, then including every individual will make the model impossible to estimate, so leave one out, or leave the intercept out.
 - That one indivisual left is still in the analysis, it does not get it's own coefficient. 
  
  
---
#Fixed Effects
&lt;br&gt;&lt;br&gt;
**How to interpret the results of this regression once it is estimated?**

&lt;br&gt;&lt;br&gt;
- The interpretation of the slope coefficient in a fixed effects model is the same as when controlled for any other variable.
- The value of `\(R^2\)` gives an insight to the interpretation. `\(R^2\)` is a measure based on how much variation there is in the residuals relative to the dependent variable.
- Sometimes researchers will use these fixed effects estimates to make claims about the individuals being evaluated. 
  


---
#Fixed Effects
&lt;br&gt;&lt;br&gt;
**Notes**

&lt;br&gt;
- Fixed effects is a good way of controlling for a long list of unobserved variables that are fixed over time to look at the effect of a few time-varying variables. 
- Those individual effects do not have the same luxury of controlling for a bunch of unobserved time-varying variables. 
- Those individual fixed effects estimates cannot be thought of as causal.
- Fixed Effects focuses on within variation. So the treatment effect  estimated will focus a lot more heavily on people with a lot of within variation.

---
#Fixed Effects
&lt;br&gt;&lt;br&gt;
**Why not include multiple sets of fixed effects?**

&lt;br&gt;
- Consider same individuals is observed over multiple years. 
- Fixed effects for individual is included
 - comparing individuals to themselves at different periods of time, or fixed effects for year
 - comparing individuals to each other at the same period of time. 
---

#Fixed Effects
&lt;br&gt;
**Why not include multiple sets of fixed effects?**

&lt;br&gt;
One approach can be, including fixed effects for both individual and year.
- This approach is a common application of multiple sets of fixed effects, and is commonly known as **two-way fixed effects.**
- The regression model for two-way fixed effects looks like:
`$$Y_{it}=\beta_i+\beta_t+\beta_1X_{it}+\epsilon_{it}$$`
- This gives the variation that is left as being variation relative to what is expected given that individual, and given that year.


---
#Fixed Effects
&lt;br&gt;
.blockquote[
###Example: The effect of experience of in-job training on pay at that job
- Data is on how much each person earns per year `\(Y_{it}\)` and on how many hours of training they received that year `\(X_{it}\)`
- That earnings in 2009 were $10,000 below what they normally are (due to recession).
- Anthony, earns \$120,000 per year, a lot more money than the average person ($40,000).
- In 2009 Anthony only earned $116,000 which is above average, but that can be explained by the fact that Anthony earns a lot.

]
---
#Fixed Effects
&lt;br&gt;
.blockquote[
###Example: The effect of experience of in-job training on pay at that job
- Given that the person is Anthony, it is $4,000 below average. 
- But given that the year is 2009, most people are earning \$10,000 less, but Anthony is only earning $4,000 less. 
- So given that it is Anthony, and given that it is 2009, Anthony's earning in 2009 is $6,000 more than expected.
]
---
#Fixed Effects
&lt;br&gt;
**Estimating a model with multiple fixed effects**

&lt;br&gt;
- It can be done using the same **binary controls** approach as for the regular (**one-way**) fixed effects estimator with only one set of fixed effects. 
- However, this can be difficult if there are lots of different fixed effects to estimate. 
- Unless the fixed effects only have a few categories each, it is generally advised to use a command specifically designed to handle multiple sets of fixed effects.
- These methods usually use something called **alternating projections.**



---
#Random Effects
&lt;br&gt;&lt;br&gt;&lt;br&gt;
- Random effects takes a slightly different approach than fixed effects.
- Instead of letting the `\(\beta_is\)` be anything, t puts some structure on them. 
- It assumes that the `\(\beta_is\)` come from a known random distribution, for example assuming that the `\(\beta_is\)` follow a normal distribution..


---
#Random Effects
&lt;br&gt;
**Advantages**
&lt;br&gt;&lt;br&gt;
- It makes estimates more precise (lowers the standard errors).
- It improves the estimation of the individual `\(\beta_i\)` effects themselves.
- Instead of just using within variation, it uses a weighted average of within and between variation.
- It solves the same back door problem that fixed effects does if the `\(\beta_i\)` terms are unrelated to the right-hand-side variables `\(X_{it}\)`


---
#Random Effects
&lt;br&gt;
**Comparision**
&lt;br&gt;&lt;br&gt;
- Fixed effects are done to solve the research design problem.
- Random effects only solves the same problem if the individual fixed effects are unrelated to the right-hand-side variable, including our treatment variable.
- That seems unlikely.
- For this reason, fixed effects is almost always preferred to random effects.
- One common way around this problem is the use of the **Durbin-Wu-Hausman test.**
---
#Random Effects
.vcenter[
.blockquote[
###Definition: Durbin-Wu-Hausman test
The Durbin-Wu-Hausman test is a broad set of tests that compare the estimates in one model against the estimates in another and sees if they are different. 
]]

---
#Random Effects
&lt;br&gt;&lt;br&gt;
**Durbin-Wu-Hausman test**
&lt;br&gt;&lt;br&gt;
- In the context of fixed effects and random effects, if the estimates are found to not be different (fail to reject the null hypothesis that they are the same), then the relationship between `\(\beta_i\)` and `\(X_{it}\)` probably is not too strong
- In such a case random effects can be used.

---
#Fixed Effects
&lt;br&gt;
**Clustered Standard Errors**

&lt;br&gt;

**Motivation**
- One of the assumptions of the regression model is that the error terms are independent of each other. 
- That is, the parts of the data generating process for the outcome variable that are not in the model are effectively random.
- This assumption is necessary to correctly calculate the regression’s standard errors.
- However, this assumption is is difficult when it comes to fixed effects.



---
#Fixed Effects
&lt;br&gt;
**Clustered Standard Errors**
&lt;br&gt;

**Motivation**
- It can be expected that some of the parts of the data generating process that are left out are shared across all of that individual or group’s observations, making them correlated with each other, and making the standard errors wrong.
- For this reason **clustered standard errors are used.**

---
#Clustered Standard Errors
.vcenter[
.blockquote[
###Definition: Clustered Standard Errors
Standard errors clustered at the same level as the fixed effect are called Clustered Standard Errors. Clustered standard errors calculate the standard errors while allowing some level of correlation between the error terms.
]
]
---
#Clustered Standard Errors
&lt;br&gt;&lt;br&gt;

**Examples:**

&lt;br&gt;
- For person fixed effects, using standard errors clustered at the person level. 
- For city fixed effects, using standard errors clustered at the city level. 

---
#Clustered Standard Errors
&lt;br&gt;

&lt;br&gt;

**Conditions**

&lt;br&gt;

- There needs to be **treatment effect heterogeneity.** That is, the treatment effect must be different for different individuals.
- Either the fixed effect groups/individuals in the data need to be a non-random sampling of the population, or, within fixed effect groups/individuals, the treatment variable is assigned in a clustered way.

---
#Fixed Effects in Nonlinear Models
&lt;br&gt;
**Why might this be a problem?**

&lt;br&gt;

- One of the methods for getting rid of between variation is adding a set of binary control variables for the fixed effects
 - This method will not work when there are lots of groups, as there might be in many **fixed effects for individual** settings. 
 - That is fine in a linear model, but in a nonlinear model one might run into the **incidental parameters problem,** where it just can not handle estimating that many groups. 
 - The estimates start getting noisy and bad.

---
#Fixed Effects in Nonlinear Models
&lt;br&gt;
**Why might this be a problem?**

&lt;br&gt;
- The other methods for getting rid of between variation is subtracting out the within-group means. 
 - This no longer works because the outcome variable is not a continuous variable any more
 - the mean is no longer a good representation of _what needed to be substracted out to get rid of the between variation._



---
#Fixed Effects in Nonlinear Models
&lt;br&gt;
**Approaches**

&lt;br&gt;
There are two common approaches to use a fixed effects design when there is  a nonlinear dependent variable.
- One is to drop the **nonlinear** part and estimate a linear model anyway with the nonlinear dependent variable. 
 - This is especially common when the dependent variable is **binary or ordinal.**
-  Another common approach is to use a nonlinear model variant that is designed to handle fixed effects properly. 
---

#Advanced Random Effects
Modern approaches to random effects includes:
- Seeing the model as containing multiple levels. 
- This makes sense for the context - in any fixed effects setting the data is **hierarchical.**
- At the very least it has multiple observations over time within individual. - For example, if the model is:
`$$Y_{it}=\beta_i+\beta_1X_{it}+\epsilon_{it}$$`
- It can be said that `\(\beta_1\)` term itself follows its own equation:
`$$\beta_i=\beta_0+\gamma_1Z_i+\mu_i$$`
where `\(Z_i\)` is a set of individual-level variables that determine the individual effect, and `\(\mu_i\)` is an error term.
---
#Advanced Random Effects

&lt;br&gt;
**Advantages**

&lt;br&gt;
- This allows us to deal with the correlation between the `\(\beta_i\)` and the `\(X_{it}\)` becaused it is modelled directly.
- It gives the nice statistical properties that random effects gives  over fixed effects, but without imposing as many additional assumptions.
- It allows to look at the effect of variables that are constant within individual. 
- It allows explicitly to look at between and within effects separately.

---
#Advanced Random Effects
&lt;br&gt;
There are two directions to go with this multi-level intuition:

&lt;br&gt;
**Direction 1**
- Calculate within-individual means for each predictor `\(\bar{X_i}\)`
- Calculate the within variation for each predictor `\((X_{it}-\bar{X_i})\)`
- Regress the dependent variable on the within-individual means `\(\bar{X_i}\)` , the within variation `\((X_{it}-\bar{X_i})\)` and any other individual-level controls `\(Z_i\)` , and use random effects for the intercept.
- This is referred to as **correlated random effects.**


---
#Advanced Random Effects

&lt;br&gt;
**Direction 2** 

&lt;br&gt;

- The other way is the multi-level intuition, which is whole hog into mixed models, also known as **hierarchical linear models.**
- In Mixed models stopping at the intercept following a random distribution is not required. 
- The following models can get complex, but they can be used to represent very complex interactions between variables.
`$$Y_{it}=\beta_{0i}+\beta_{1i}X_{it}+\epsilon_{it}$$`
`$$\beta_{0i}=\beta_0+\gamma_1Z_i+\mu_i$$`
`$$\beta_{1i}=\beta_1+\delta_1Z_i+\eta_i$$`
---


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="remark-zoom.js"></script>
<script src="https://platform.twitter.com/widgets.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9",
"navigation": {
"scroll": true
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
